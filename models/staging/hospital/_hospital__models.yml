version: 2

sources:
  - name: hospital
    description: "Source data from the hospital systems."
    tables:
      - name: stg_hospital__allergies
        description: "Staging table containing patient allergy records."
        columns:
          - name: patient_allergy_id
            description: "Unique identifier for each patient allergy record."
          - name: patient_id
            description: "Unique identifier of the patient."
          - name: allergy_name
            description: "Name of the allergy reported by the patient."

      - name: stg_hospital__appointments
        description: "Staging table containing patient appointment details."
        columns:
          - name: id_appointment
            description: "Unique identifier for the appointment."
          - name: date_appointment
            description: "Date when the appointment is scheduled."
          - name: time_appointment
            description: "Scheduled time of the appointment."
          - name: check_in_time
            description: "Actual time when the patient checked in."
          - name: check_out_time
            description: "Actual time when the patient checked out."
          - name: wait_time_minutes
            description: "Wait time in minutes before the appointment started."
          - name: duration_minutes
            description: "Duration of the appointment in minutes."
          - name: wait_time_hours
            description: "Wait time in hours before the appointment started."
          - name: duration_hours
            description: "Duration of the appointment in hours."
          - name: id_cancel_reason
            description: "Identifier for the reason of cancellation, if any."
          - name: id_reason_for_visit
            description: "Identifier for the reason for the visit."
          - name: id_status_appointment
            description: "Identifier for the status of the appointment."
          - name: id_patient
            description: "Identifier of the patient attending the appointment."
          - name: id_doctor
            description: "Identifier of the doctor assigned to the appointment."

      - name: stg_hospital__available_days
        description: "Staging table containing the mapping of day ranges to full day names."
        columns:
          - name: original_range
            description: "Original abbreviation or range for the day."
          - name: full_day_name
            description: "Full name of the day (e.g., Monday, Tuesday)."

      - name: stg_hospital__billing
        description: "Staging table for patient billing information."
        columns:
          - name: id_bill
            description: "Unique identifier for the bill."
          - name: bill_date
            description: "Date when the bill was issued."
          - name: amount_dolars
            description: "Total amount billed in dollars."
          - name: payment_status
            description: "Status of the payment (e.g., Paid, Pending)."
          - name: payment_date
            description: "Date when the payment was made."
          - name: due_date
            description: "Payment due date."
          - name: payments_days
            description: "Number of days taken to pay the bill."
          - name: late_fee_dolars
            description: "Late fee charged in dollars, if applicable."
          - name: insurance_coverage_amount
            description: "Amount covered by the patient's insurance."
          - name: patient_payment_amount
            description: "Amount paid by the patient."
          - name: diference_patient_insurance
            description: "Difference between patient payment and insurance coverage."
          - name: id_patient
            description: "Identifier of the patient related to the bill."
          - name: id_treatment
            description: "Identifier of the treatment linked to the bill."
          - name: id_payment_method
            description: "Identifier of the payment method used."

      - name: stg_hospital__blood_type
        description: "Staging table containing blood type information."
        columns:
          - name: id_blood_type
            description: "Unique identifier for the blood type record."
          - name: blood_type
            description: "Blood type (e.g., A+, O-)."
          - name: blood_group
            description: "ABO blood group (A, B, AB, O)."
          - name: rh_factor
            description: "Rh factor (+ or -)."

      - name: stg_hospital__cancel_reason
        description: "Staging table listing reasons for appointment cancellation."
        columns:
          - name: id_cancel_reason
            description: "Unique identifier for the cancellation reason."
          - name: cancel_reason
            description: "Description of the cancellation reason."

      - name: stg_hospital__chronic_conditions
        description: "Patient chronic conditions records."
        columns:
          - name: patient_condition_id
            description: "Unique identifier for the patient condition record."
          - name: patient_id
            description: "Identifier of the patient."
          - name: condition_name
            description: "Name of the chronic condition."
          - name: loaded_at
            description: "Timestamp when the record was loaded into staging."

      - name: stg_hospital__current_medications
        description: "Patient current medications records."
        columns:
          - name: patient_medication_id
            description: "Unique identifier for the patient medication record."
          - name: patient_id
            description: "Identifier of the patient."
          - name: medication_name
            description: "Name of the current medication."
          - name: loaded_at
            description: "Timestamp when the record was loaded into staging."

      - name: stg_hospital__doctors
        description: "Staging table containing doctor information."
        columns:
          - name: id_doctor
            description: "Unique identifier for the doctor."
          - name: first_name
            description: "Doctor's first name."
          - name: last_name
            description: "Doctor's last name."
          - name: last_name_2
            description: "Doctor's second last name (if applicable)."
          - name: phone_number
            description: "Contact phone number of the doctor."
          - name: years_experience
            description: "Number of years of experience the doctor has."
          - name: hospital_branch
            description: "Hospital branch where the doctor works."
          - name: email
            description: "Doctor's email address."
          - name: consultation_fee
            description: "Fee charged per consultation."
          - name: available_days
            description: "Days of the week the doctor is available."
          - name: office_room
            description: "Office or consultation room assigned to the doctor."
          - name: id_specialization
            description: "Identifier of the doctor's medical specialization."

      - name: stg_hospital__hospital_branch
        description: "Hospital branches information."
        columns:
          - name: id_hospital_branch
            description: "Unique identifier for the hospital branch."
          - name: hospital_branch
            description: "Name of the hospital branch."

      - name: stg_hospital__insurance_provider
        description: "Insurance provider details."
        columns:
          - name: id_insurance_provider
            description: "Unique identifier for the insurance provider."
          - name: insurance_provider
            description: "Name of the insurance provider."

      - name: stg_hospital__patients
        description: "Patient demographic and medical information."
        columns:
          - name: id_patient
            description: "Unique identifier for the patient."
          - name: first_name
            description: "Patient's first name."
          - name: last_name
            description: "Patient's last name."
          - name: last_name_2
            description: "Patient's second last name, if applicable."
          - name: gender
            description: "Patient's gender."
          - name: date_of_birth
            description: "Patient's date of birth."
          - name: age
            description: "Patient's age in years."
          - name: contact_number
            description: "Patient's contact phone number."
          - name: address
            description: "Patient's full address."
          - name: street_name
            description: "Street name from the patient's address."
          - name: registration_date
            description: "Date when the patient was registered in the hospital system."
          - name: insurance_number
            description: "Patient's insurance policy number."
          - name: email
            description: "Patient's email address."
          - name: allergies
            description: "Patient's known allergies."
          - name: chronic_conditions
            description: "Patient's chronic conditions."
          - name: current_medications
            description: "Patient's current medications."
          - name: medical_history_summary
            description: "Summary of the patient's medical history."
          - name: id_insurance_provider
            description: "Identifier for the patient's insurance provider."
          - name: id_blood_type
            description: "Identifier for the patient's blood type."

      - name: stg_hospital__payment_method
        description: "Payment methods available for billing."
        columns:
          - name: id_payment_method
            description: "Unique identifier for the payment method."
          - name: payment_method
            description: "Description of the payment method (e.g., Cash, Credit Card)."

      - name: stg_hospital__reason_for_visit
        description: "Possible reasons for a patient visit."
        columns:
          - name: id_reason_for_visit
            description: "Unique identifier for the reason for visit."
          - name: reason_for_visit
            description: "Description of the reason for the visit."

      - name: stg_hospital__specialization
        description: "Medical specializations of doctors."
        columns:
          - name: id_specialization
            description: "Unique identifier for the specialization."
          - name: specialization
            description: "Name of the medical specialization."

      - name: stg_hospital__status_appointment
        description: "Statuses that an appointment can have."
        columns:
          - name: id_status_appointment
            description: "Unique identifier for the appointment status."
          - name: status
            description: "Description of the appointment status (e.g., Scheduled, Completed)."

      - name: stg_hospital__treatment_type
        description: "Types of treatments available."
        columns:
          - name: id_treatment_type
            description: "Unique identifier for the treatment type."
          - name: treatment_type
            description: "Description of the treatment type."

      - name: stg_hospital__treatments
        description: "Patient treatments and procedures."
        columns:
          - name: id_treatment
            description: "Unique identifier for the treatment record."
          - name: id_appointment
            description: "Identifier of the associated appointment."
          - name: description
            description: "Description of the treatment."
          - name: cost_dolars
            description: "Cost of the treatment in dollars."
          - name: treatment_date
            description: "Date when the treatment was performed."
          - name: treatment_outcome
            description: "Outcome of the treatment."
          - name: medications_administered
            description: "Medications administered during the treatment."
          - name: complications
            description: "Any complications observed during the treatment."
          - name: duration_minutes
            description: "Duration of the treatment in minutes."
          - name: equipment_used
            description: "Medical equipment used during the treatment."
          - name: risk_level
            description: "Risk level of the treatment (e.g., Low, Medium, High)."
          - name: id_treatment_type
            description: "Identifier for the type of treatment."
